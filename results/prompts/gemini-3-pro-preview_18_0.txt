You are writing a C++ program to solve the Minimum Edge Cut problem.

**Target environment specs**
Platform: Windows 11 (build 10.0.26100)
Architecture: AMD64
CPU: Intel64 Family 6 Model 158 Stepping 10, GenuineIntel
Core count: 12
Memory: 31.93 GB
SIMD: AVX, AVX2, SSE, SSE2, SSE3, SSE4.1, SSE4.2, SSSE3
SIMD detail: AVX=yes, AVX-512F=no, AVX2=yes, SSE=yes, SSE2=yes, SSE3=yes, SSE4.1=yes, SSE4.2=yes, SSSE3=yes

**C++ Compiler information**
MSVC cl 19.44.35214 | std=c++20 (/std:c++20)

You must write a C++ solver that can handle ANY graph size from trivial to multi-gb.

**The Challenge:**
Your C++ program will be tested with graphs ranging from small toy examples to massive real-world networks.
The same program must work efficiently across ALL scales.

**Problem:**
Given an undirected connected graph, find the minimum number of edges to remove
such that the graph becomes disconnected (split into two non-empty components).

**Input format (stdin):**
- Line 1: N M (number of nodes, number of edges)
- Lines 2 to M+1: u v (undirected edge between nodes u and v, 0-indexed)

**Output format (stdout):**
- Line 1: K (number of edges in the minimum cut)
- Lines 2 to K+1: u v (each edge in the cut, in any order)

**Requirements:**
1. Program must compile with this compiler, and run on this environment.
2. Read from stdin, write to stdout
3. Handle graphs even if they don't fit in memory.
4. Complete as fast as possible.
5. Output must be a valid cut that disconnects the graph
6. Minimize the number of cut edges
7. Must handle varying graph sizes efficiently

**Example:**
Input:
```
4 5
0 1
1 2
2 3
3 0
0 2
```

Output (one possible answer):
```
2
0 1
3 0
```

Write complete, compilable C++ code with a main() function.
Include adaptive logic that chooses different algorithms based on graph scale.
